# Dockerfile para mf-transactions (Microfrontend)
FROM node:18-alpine

# Instalar serve globalmente
RUN npm install -g serve

# Establecer directorio de trabajo
WORKDIR /app

# Copiar package.json y package-lock.json (si existe)
COPY package*.json ./

# Instalar dependencias
RUN npm ci

# Copiar el c칩digo fuente
COPY . .

# Construir la aplicaci칩n para producci칩n
RUN npm run build

# Exponer el puerto
EXPOSE 3002

# Comando para servir los archivos est치ticos con CORS
CMD ["serve", "dist", "--cors", "-l", "3002", "--host", "0.0.0.0"]